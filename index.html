<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MoonLith Studio - خدمات التصميم والبروبوت</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<!-- EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script>
(function() {
emailjs.init("jDE8nQ7KU9m4EJNo7");
})();
</script>
<style>
body {
background: #f8f9fa;
font-family: Arial, sans-serif;
}
.navbar {
background: #2c3e50 !important;
padding: 15px 0;
}
.hero {
background: #34495e;
color: white;
padding: 50px 0;
margin-bottom: 30px;
text-align: center;
}
.card {
border: none;
border-radius: 10px;
padding: 20px;
margin: 10px 0;
box-shadow: 0 2px 15px rgba(0,0,0,0.1);
transition: transform 0.3s;
position: relative;
}
.card:hover {
transform: translateY(-5px);
}
.badge-custom {
position: absolute;
top: 10px;
right: 10px;
padding: 5px 15px;
border-radius: 20px;
}
.features-list {
list-style: none;
padding: 0;
margin: 15px 0;
}
.features-list li {
margin: 8px 0;
color: #555;
}
.features-list i {
margin-left: 8px;
color: #27ae60;
}
.btn-custom {
background: #3498db;
color: white;
border: none;
padding: 10px;
border-radius: 5px;
width: 100%;
transition: 0.3s;
}
.btn-custom:hover {
background: #2980b9;
color: white;
}
.order-number {
background: #f1f8ff;
padding: 15px;
border-radius: 8px;
margin: 10px 0;
text-align: center;
}
.price {
font-size: 24px;
font-weight: bold;
color: #2c3e50;
margin: 15px 0;
}
.search-section {
background: white;
padding: 20px;
border-radius: 10px;
margin: 20px auto;
max-width: 600px;
box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}
</style>
</head>
<body>

<nav class="navbar navbar-dark">
<div class="container">
<span class="navbar-brand">
<i class="fas fa-moon"></i> MoonLith Studio

</span>
</div>
</nav>

<div class="hero">
<div class="container">
<h1>MoonLith Studio</h1>
<p>خدمات التصميم والبروبوت المتميزة</p>
</div>
</div>

<div class="search-section container">
<h4 class="text-center mb-3">تعديل طلب سابق</h4>
<div class="input-group">
<input type="text" id="searchOrderNumber" class="form-control" placeholder="أدخل رقم الطلب">
<button class="btn btn-primary" onclick="searchOrder()">بحث</button>
</div>
</div>

<div class="container">
<div class="row">
<!-- باقة مجانية -->
<div class="col-md-3">
<div class="card text-center">
<span class="badge-custom bg-success">مجاني</span>
<h3>Logo مجاني</h3>
<div class="price">$0</div>
<ul class="features-list">
<li><i class="fas fa-check"></i>تصميم شعار بسيط</li>
<li><i class="fas fa-check"></i>تعديل واحد مجاناً</li>
<li><i class="fas fa-clock"></i>كل 3 أيام</li>
</ul>
<button onclick="createOrder('free')" class="btn-custom">طلب الآن</button>
</div>
</div>

<!-- باقة 10M -->
<div class="col-md-3">
<div class="card text-center">
<span class="badge-custom bg-primary">10M كريديت</span>
<h3>بروبوت بيسك</h3>
<div class="price">$1</div>
<ul class="features-list">
<li><i class="fas fa-check"></i>10M كريديت</li>
<li><i class="fas fa-check"></i>دعم فني أساسي</li>
<li><i class="fas fa-check"></i>صلاحية 30 يوم</li>
</ul>
<button onclick="createOrder('basic')" class="btn-custom">طلب الآن</button>
</div>
</div>

<!-- باقة 50M -->
<div class="col-md-3">
<div class="card text-center">
<span class="badge-custom bg-primary">50M كريديت</span>
<h3>بروبوت برو</h3>
<div class="price">$5</div>
<ul class="features-list">
<li><i class="fas fa-check"></i>50M كريديت</li>
<li><i class="fas fa-check"></i>دعم فني متقدم</li>
<li><i class="fas fa-check"></i>صلاحية 60 يوم</li>
</ul>
<button onclick="createOrder('pro')" class="btn-custom">طلب الآن</button>
</div>
</div>

<!-- باقة 100M -->
<div class="col-md-3">
<div class="card text-center">
<span class="badge-custom bg-primary">100M كريديت</span>
<h3>بروبوت بريميوم</h3>

<div class="price">$10</div>
<ul class="features-list">
<li><i class="fas fa-check"></i>100M كريديت</li>
<li><i class="fas fa-check"></i>دعم فني VIP</li>
<li><i class="fas fa-check"></i>صلاحية 90 يوم</li>
</ul>
<button onclick="createOrder('premium')" class="btn-custom">طلب الآن</button>
</div>
</div>
</div>
</div>

<!-- مودال الطلب -->
<div class="modal fade" id="orderModal">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header bg-primary text-white">
<h5 class="modal-title">طلب جديد</h5>
<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body">
<div class="order-number" style="display: none;">
<h5>رقم طلبك هو:</h5>
<div class="h3 text-primary" id="displayOrderNumber"></div>
<p class="text-muted">احفظ هذا الرقم للتعديل لاحقاً</p>
</div>
<form id="orderForm">
<input type="hidden" id="packageType" name="packageType">
<div class="mb-3">
<input type="text" class="form-control" name="name" placeholder="الاسم الكامل" required>
</div>
<div class="mb-3">
<input type="email" class="form-control" name="email" placeholder="البريد الإلكتروني" required>
</div>
<div class="mb-3">
<input type="text" class="form-control" name="discord" placeholder="معرف Discord" required>
</div>
<div class="mb-3">
<textarea class="form-control" name="details" rows="4" placeholder="تفاصيل الطلب" required></textarea>
</div>
<button type="submit" class="btn-custom">إرسال الطلب</button>
</form>
</div>
</div>
</div>
</div>

<!-- مودال التعديل -->
<div class="modal fade" id="editModal">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header bg-primary text-white">
<h5 class="modal-title">تعديل الطلب</h5>
<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body">
<form id="editForm">
<input type="hidden" id="editOrderNumber">
<div class="mb-3">

<textarea class="form-control" name="newDetails" rows="4" placeholder="التفاصيل الجديدة" required></textarea>
</div>
<button type="submit" class="btn-custom">حفظ التعديلات</button>
</form>
</div>
</div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
function generateOrderNumber() {
const date = new Date();
const random = Math.floor(Math.random() * 10000).toString().padStart(4, '0');
return `ORD-${date.getFullYear()}${(date.getMonth()+1).toString().padStart(2,'0')}${random}`;
}

function createOrder(type) {
document.getElementById('packageType').value = type;
document.querySelector('.order-number').style.display = 'none';
document.getElementById('orderForm').reset();
new bootstrap.Modal(document.getElementById('orderModal')).show();
}

document.getElementById('orderForm').onsubmit = async function(e) {
e.preventDefault();
const orderNumber = generateOrderNumber();
const formData = new FormData(e.target);

try {
const orderData = {
orderNumber: orderNumber,
type: formData.get('packageType'),
name: formData.get('name'),
email: formData.get('email'),
discord: formData.get('discord'),
details: formData.get('details'),
date: new Date().toISOString()
};

// حفظ البيانات محلياً
const orders = JSON.parse(localStorage.getItem('orders') || '{}');
orders[orderNumber] = orderData;
localStorage.setItem('orders', JSON.stringify(orders));

// إرسال عبر EmailJS
await emailjs.send(
"service_l82w2oc",
"template_l7yvp7i",
{
order_number: orderNumber,
package_type: orderData.type,
name: orderData.name,
email: orderData.email,
discord: orderData.discord,
details: orderData.details
}
);

document.getElementById('displayOrderNumber').textContent = orderNumber;
document.querySelector('.order-number').style.display = 'block';

} catch (error) {
console.error('Error:', error);
alert('حدث خطأ في إرسال الطلب. الرجاء المحاولة مرة أخرى');
}
};

function searchOrder() {

const orderNumber = document.getElementById('searchOrderNumber').value;
const orders = JSON.parse(localStorage.getItem('orders') || '{}');
const order = orders[orderNumber];

if (order) {
document.getElementById('editOrderNumber').value = orderNumber;
document.querySelector('#editForm textarea').value = order.details;
new bootstrap.Modal(document.getElementById('editModal')).show();
} else {
alert('لم يتم العثور على الطلب');
}
}

document.getElementById('editForm').onsubmit = async function(e) {
e.preventDefault();
const orderNumber = document.getElementById('editOrderNumber').value;
const newDetails = this.newDetails.value;

try {
const orders = JSON.parse(localStorage.getItem('orders') || '{}');
if (orders[orderNumber]) {
orders[orderNumber].details = newDetails;
orders[orderNumber].lastEdited = new Date().toISOString();
localStorage.setItem('orders', JSON.stringify(orders));

await emailjs.send(
"service_l82w2oc",
"template_l7yvp7i",
{
order_number: orderNumber,
new_details: newDetails,
is_edit: true
}
);

alert('تم تحديث الطلب بنجاح!');
bootstrap.Modal.getInstance(document.getElementById('editModal')).hide();
}
} catch (error) {
console.error('Error:', error);
alert('حدث خطأ في تحديث الطلب');
}
};
</script>
</body>
</html>
